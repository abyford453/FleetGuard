{% extends "base.html" %}
{% block page_title %}Reports{% endblock %}
{% block page_subtitle %}Operations snapshot for this tenant{% endblock %}
{% block content %}

<style>
  .grid{display:grid;grid-template-columns:repeat(12,minmax(0,1fr));gap:12px;}
  .card{
    grid-column:span 4;
    background:rgba(255,255,255,.03);
    border:1px solid rgba(255,255,255,.10);
    border-radius:18px;
    padding:14px;
    box-shadow:0 12px 34px rgba(0,0,0,.22);
    display:flex;
    flex-direction:column;
    gap:8px;
    text-decoration:none;
    min-height:132px;
    justify-content:space-between;
  }
  .k{font-size:12px;letter-spacing:.08em;text-transform:uppercase;opacity:.70;}
  .v{font-size:28px;font-weight:950;line-height:1;}
  .muted{opacity:.70;font-size:13px;line-height:1.35;}
  .warn{border-color:rgba(255,200,60,.35);background:rgba(255,200,60,.08);}
  .danger{border-color:rgba(255,80,80,.35);background:rgba(255,80,80,.08);}
  .info{border-color:rgba(37,214,255,.30);background:rgba(37,214,255,.06);}
  @media (max-width: 1100px){ .card{grid-column:span 6;} }
  @media (max-width: 700px){ .card{grid-column:span 12;} }
</style>

<div class="grid">

  <a class="card info" href="{% url 'fleet:vehicle_list' %}">
    <div>
      <div class="k">Vehicles</div>
      <div class="v">{{ vehicle_count }}</div>
    </div>
    <div class="muted">Total vehicles for this tenant.</div>
  </a>

  <a class="card warn" href="{% url 'inspections:alerts' %}">
    <div>
      <div class="k">Open Inspection Alerts</div>
      <div class="v">{{ open_alerts }}</div>
    </div>
    <div class="muted">Active inspection issues that need attention.</div>
  </a>

  <a class="card danger" href="{% url 'inspections:list' %}?overdue=1">
    <div>
      <div class="k">Overdue Inspections</div>
      <div class="v">{{ overdue_inspections }}</div>
    </div>
    <div class="muted">Past due date and not completed.</div>
  </a>

  <a class="card info" href="{% url 'inspections:list' %}?due_soon=1">
    <div>
      <div class="k">Due Soon (7 days)</div>
      <div class="v">{{ due_soon_inspections }}</div>
    </div>
    <div class="muted">Upcoming inspections that should be scheduled.</div>
  </a>

  <a class="card danger" href="{% url 'documents:document_list' %}?expired=1">
    <div>
      <div class="k">Expired Documents</div>
      <div class="v">{{ expired_docs }}</div>
    </div>
    <div class="muted">Docs past expiration date.</div>
  </a>

  <a class="card warn" href="{% url 'documents:document_list' %}?expiring=1">
    <div>
      <div class="k">Expiring Documents (30 days)</div>
      <div class="v">{{ expiring_docs }}</div>
    </div>
    <div class="muted">Docs expiring soon.</div>
  </a>

  <a class="card warn" href="{% url 'fuel:alerts' %}">
    <div>
      <div class="k">Fuel: Missing / Stale Logs (30 days)</div>
      <div class="v">{{ fuel_stale_count }}</div>
    </div>
    <div class="muted">Vehicles with no recent fuel logs.</div>
  </a>

  <a class="card danger" href="{% url 'fuel:alerts' %}">
    <div>
      <div class="k">Fuel: Odometer Issues</div>
      <div class="v">{{ fuel_odo_alert_count }}</div>
    </div>
    <div class="muted">Possible data entry errors detected.</div>
  </a>

  <a class="card info" href="{% url 'fuel:list' %}">
    <div>
      <div class="k">Fuel Spend (30 days)</div>
      <div class="v">${{ spend_30|floatformat:2 }}</div>
    </div>
    <div class="muted">Total cost of fuel logs in last 30 days.</div>
  </a>

</div>

{% endblock %}
